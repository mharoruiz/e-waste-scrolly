var ir=Object.defineProperty;var or=(e,t,n)=>t in e?ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var ot=(e,t,n)=>or(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function H(){}const xt=e=>e;function ar(e,t){for(const n in t)e[n]=t[n];return e}function Nn(e){return e()}function Pt(){return Object.create(null)}function re(e){e.forEach(Nn)}function Ee(e){return typeof e=="function"}function Se(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function lr(e){return Object.keys(e).length===0}function At(e,...t){if(e==null){for(const r of t)r(void 0);return H}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Tt(e){let t;return At(e,n=>t=n)(),t}function He(e,t,n){e.$$.on_destroy.push(At(t,n))}function fr(e,t,n,r){if(e){const i=xn(e,t,n,r);return e[0](i)}}function xn(e,t,n,r){return e[1]&&r?ar(n.ctx.slice(),e[1](r(t))):n.ctx}function sr(e,t,n,r){if(e[2]&&r){const i=e[2](r(n));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],a=Math.max(t.dirty.length,i.length);for(let f=0;f<a;f+=1)o[f]=t.dirty[f]|i[f];return o}return t.dirty|i}return t.dirty}function ur(e,t,n,r,i,o){if(i){const a=xn(t,n,r,o);e.p(a,i)}}function cr(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let r=0;r<n;r++)t[r]=-1;return t}return-1}const An=typeof window<"u";let $n=An?()=>window.performance.now():()=>Date.now(),$t=An?e=>requestAnimationFrame(e):H;const se=new Set;function En(e){se.forEach(t=>{t.c(e)||(se.delete(t),t.f())}),se.size!==0&&$t(En)}function Sn(e){let t;return se.size===0&&$t(En),{promise:new Promise(n=>{se.add(t={c:e,f:n})}),abort(){se.delete(t)}}}function A(e,t){e.appendChild(t)}function Cn(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function hr(e){const t=z("style");return t.textContent="/* empty */",dr(Cn(e),t),t.sheet}function dr(e,t){return A(e.head||e,t),t.sheet}function R(e,t,n){e.insertBefore(t,n||null)}function C(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function E(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function P(e){return document.createTextNode(e)}function ae(){return P(" ")}function Ue(){return P("")}function Bt(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pr(e){return Array.from(e.childNodes)}function he(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t,n,r){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,"")}let Pe;function gr(){if(Pe===void 0){Pe=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{Pe=!0}}return Pe}function On(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const r=z("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=gr();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=Bt(window,"message",a=>{a.source===r.contentWindow&&t()})):(r.src="about:blank",r.onload=()=>{o=Bt(r.contentWindow,"resize",t),t()}),A(e,r),()=>{(i||o&&r.contentWindow)&&o(),C(r)}}function zt(e,t,n){e.classList.toggle(t,!!n)}function mr(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}const We=new Map;let Ve=0;function _r(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}function yr(e,t){const n={stylesheet:hr(t),rules:{}};return We.set(e,n),n}function Rn(e,t,n,r,i,o,a,f=0){const u=16.666/r;let l=`{
`;for(let g=0;g<=1;g+=u){const b=t+(n-t)*o(g);l+=g*100+`%{${a(b,1-b)}}
`}const c=l+`100% {${a(n,1-n)}}
}`,h=`__svelte_${_r(c)}_${f}`,s=Cn(e),{stylesheet:p,rules:m}=We.get(s)||yr(s,e);m[h]||(m[h]=!0,p.insertRule(`@keyframes ${h} ${c}`,p.cssRules.length));const y=e.style.animation||"";return e.style.animation=`${y?`${y}, `:""}${h} ${r}ms linear ${i}ms 1 both`,Ve+=1,h}function gt(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(e.style.animation=r.join(", "),Ve-=i,Ve||br())}function br(){$t(()=>{Ve||(We.forEach(e=>{const{ownerNode:t}=e.stylesheet;t&&C(t)}),We.clear())})}let ke;function we(e){ke=e}function wr(){if(!ke)throw new Error("Function called outside component initialization");return ke}function In(e){wr().$$.on_mount.push(e)}const le=[],Ye=[];let ue=[];const mt=[],vr=Promise.resolve();let _t=!1;function kr(){_t||(_t=!0,vr.then(Pn))}function D(e){ue.push(e)}function Mr(e){mt.push(e)}const at=new Set;let ie=0;function Pn(){if(ie!==0)return;const e=ke;do{try{for(;ie<le.length;){const t=le[ie];ie++,we(t),Nr(t.$$)}}catch(t){throw le.length=0,ie=0,t}for(we(null),le.length=0,ie=0;Ye.length;)Ye.pop()();for(let t=0;t<ue.length;t+=1){const n=ue[t];at.has(n)||(at.add(n),n())}ue.length=0}while(le.length);for(;mt.length;)mt.pop()();_t=!1,at.clear(),we(e)}function Nr(e){if(e.fragment!==null){e.update(),re(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(D)}}function xr(e){const t=[],n=[];ue.forEach(r=>e.indexOf(r)===-1?t.push(r):n.push(r)),n.forEach(r=>r()),ue=t}let ge;function Tn(){return ge||(ge=Promise.resolve(),ge.then(()=>{ge=null})),ge}function Ge(e,t,n){e.dispatchEvent(mr(`${t?"intro":"outro"}${n}`))}const De=new Set;let Z;function Bn(){Z={r:0,c:[],p:Z}}function zn(){Z.r||re(Z.c),Z=Z.p}function V(e,t){e&&e.i&&(De.delete(e),e.i(t))}function ee(e,t,n,r){if(e&&e.o){if(De.has(e))return;De.add(e),Z.c.push(()=>{De.delete(e),r&&(n&&e.d(1),r())}),e.o(t)}else r&&r()}const jn={duration:0};function ne(e,t,n){const r={direction:"in"};let i=t(e,n,r),o=!1,a,f,u=0;function l(){a&&gt(e,a)}function c(){const{delay:s=0,duration:p=300,easing:m=xt,tick:y=H,css:g}=i||jn;g&&(a=Rn(e,0,1,p,s,m,g,u++)),y(0,1);const b=$n()+s,M=b+p;f&&f.abort(),o=!0,D(()=>Ge(e,!0,"start")),f=Sn(v=>{if(o){if(v>=M)return y(1,0),Ge(e,!0,"end"),l(),o=!1;if(v>=b){const k=m((v-b)/p);y(k,1-k)}}return o})}let h=!1;return{start(){h||(h=!0,gt(e),Ee(i)?(i=i(r),Tn().then(c)):c())},invalidate(){h=!1},end(){o&&(l(),o=!1)}}}function de(e,t,n){const r={direction:"out"};let i=t(e,n,r),o=!0,a;const f=Z;f.r+=1;let u;function l(){const{delay:c=0,duration:h=300,easing:s=xt,tick:p=H,css:m}=i||jn;m&&(a=Rn(e,1,0,h,c,s,m));const y=$n()+c,g=y+h;D(()=>Ge(e,!1,"start")),"inert"in e&&(u=e.inert,e.inert=!0),Sn(b=>{if(o){if(b>=g)return p(0,1),Ge(e,!1,"end"),--f.r||re(f.c),!1;if(b>=y){const M=s((b-y)/h);p(1-M,M)}}return o})}return Ee(i)?Tn().then(()=>{i=i(r),l()}):l(),{end(c){c&&"inert"in e&&(e.inert=u),c&&i.tick&&i.tick(1,0),o&&(a&&gt(e,a),o=!1)}}}function Y(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Ar(e,t,n){const r=e.$$.props[t];r!==void 0&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function lt(e){e&&e.c()}function qe(e,t,n){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),D(()=>{const o=e.$$.on_mount.map(Nn).filter(Ee);e.$$.on_destroy?e.$$.on_destroy.push(...o):re(o),e.$$.on_mount=[]}),i.forEach(D)}function Le(e,t){const n=e.$$;n.fragment!==null&&(xr(n.after_update),re(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $r(e,t){e.$$.dirty[0]===-1&&(le.push(e),kr(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function nt(e,t,n,r,i,o,a=null,f=[-1]){const u=ke;we(e);const l=e.$$={fragment:null,ctx:[],props:o,update:H,not_equal:i,bound:Pt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Pt(),dirty:f,skip_bound:!1,root:t.target||u.$$.root};a&&a(l.root);let c=!1;if(l.ctx=n?n(e,t.props||{},(h,s,...p)=>{const m=p.length?p[0]:s;return l.ctx&&i(l.ctx[h],l.ctx[h]=m)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](m),c&&$r(e,h)),s}):[],l.update(),c=!0,re(l.before_update),l.fragment=r?r(l.ctx):!1,t.target){if(t.hydrate){const h=pr(t.target);l.fragment&&l.fragment.l(h),h.forEach(C)}else l.fragment&&l.fragment.c();t.intro&&V(e.$$.fragment),qe(e,t.target,t.anchor),Pn()}we(u)}class rt{constructor(){ot(this,"$$");ot(this,"$$set")}$destroy(){Le(this,1),this.$destroy=H}$on(t,n){if(!Ee(n))return H;const r=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(t){this.$$set&&!lr(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Er="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Er);function Sr(e){let t,n;const r=e[7].default,i=fr(r,e,e[6],null);return{c(){t=z("div"),i&&i.c()},m(o,a){R(o,t,a),i&&i.m(t,null),e[8](t),n=!0},p(o,[a]){i&&i.p&&(!n||a&64)&&ur(i,r,o,o[6],n?sr(r,o[6],a,null):cr(o[6]),null)},i(o){n||(V(i,o),n=!0)},o(o){ee(i,o),n=!1},d(o){o&&C(t),i&&i.d(o),e[8](null)}}}function Cr(e,t,n){let{$$slots:r={},$$scope:i}=t,{root:o=null}=t,{top:a=0}=t,{bottom:f=0}=t,{increments:u=100}=t,{value:l=void 0}=t;const c=[],h=[];let s=[],p=[],m;const y=()=>{s.length&&s.forEach(b)},g=()=>{let v=0,k=0;for(let _=0;_<c.length;_++)c[_]>v&&(v=c[_],k=_);v>0?n(1,l=k):n(1,l=void 0)},b=(v,k)=>{const _=w=>{w[0].isIntersecting;const O=w[0].intersectionRatio;c[k]=O,g()},x=a?a*-1:0,$=f?f*-1:0,S=`${x}px 0px ${$}px 0px`,T={root:o,rootMargin:S,threshold:h};p[k]&&p[k].disconnect();const I=new IntersectionObserver(_,T);I.observe(v),p[k]=I};In(()=>{for(let v=0;v<u+1;v++)h.push(v/u);s=m.querySelectorAll(":scope > *"),y()});function M(v){Ye[v?"unshift":"push"](()=>{m=v,n(0,m)})}return e.$$set=v=>{"root"in v&&n(2,o=v.root),"top"in v&&n(3,a=v.top),"bottom"in v&&n(4,f=v.bottom),"increments"in v&&n(5,u=v.increments),"value"in v&&n(1,l=v.value),"$$scope"in v&&n(6,i=v.$$scope)},e.$$.update=()=>{e.$$.dirty&24&&y()},[m,l,o,a,f,u,i,r,M]}class Or extends rt{constructor(t){super(),nt(this,t,Cr,Sr,Se,{root:2,top:3,bottom:4,increments:5,value:1})}}const oe=[];function Rr(e,t){return{subscribe:it(e,t).subscribe}}function it(e,t=H){let n;const r=new Set;function i(f){if(Se(e,f)&&(e=f,n)){const u=!oe.length;for(const l of r)l[1](),oe.push(l,e);if(u){for(let l=0;l<oe.length;l+=2)oe[l][0](oe[l+1]);oe.length=0}}}function o(f){i(f(e))}function a(f,u=H){const l=[f,u];return r.add(l),r.size===1&&(n=t(i,o)||H),f(e),()=>{r.delete(l),r.size===0&&n&&(n(),n=null)}}return{set:i,update:o,subscribe:a}}function Hn(e,t,n){const r=!Array.isArray(e),i=r?[e]:e;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return Rr(n,(a,f)=>{let u=!1;const l=[];let c=0,h=H;const s=()=>{if(c)return;h();const m=t(r?l[0]:l,a,f);o?a(m):h=Ee(m)?m:H},p=i.map((m,y)=>At(m,g=>{l[y]=g,c&=~(1<<y),u&&s()},()=>{c|=1<<y}));return u=!0,s(),function(){re(p),h(),u=!1}})}function Fe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ir(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Dn(e){let t,n,r;e.length!==2?(t=Fe,n=(f,u)=>Fe(e(f),u),r=(f,u)=>e(f)-u):(t=e===Fe||e===Ir?e:Pr,n=e,r=e);function i(f,u,l=0,c=f.length){if(l<c){if(t(u,u)!==0)return c;do{const h=l+c>>>1;n(f[h],u)<0?l=h+1:c=h}while(l<c)}return l}function o(f,u,l=0,c=f.length){if(l<c){if(t(u,u)!==0)return c;do{const h=l+c>>>1;n(f[h],u)<=0?l=h+1:c=h}while(l<c)}return l}function a(f,u,l=0,c=f.length){const h=i(f,u,l,c-1);return h>l&&r(f[h-1],u)>-r(f[h],u)?h-1:h}return{left:i,center:a,right:o}}function Pr(){return 0}function Tr(e){return e===null?NaN:+e}const Br=Dn(Fe),zr=Br.right;Dn(Tr).center;class jt extends Map{constructor(t,n=Dr){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ht(this,t))}has(t){return super.has(Ht(this,t))}set(t,n){return super.set(jr(this,t),n)}delete(t){return super.delete(Hr(this,t))}}function Ht({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function jr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Hr({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Dr(e){return e!==null&&typeof e=="object"?e.valueOf():e}const qr=Math.sqrt(50),Lr=Math.sqrt(10),Fr=Math.sqrt(2);function Je(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=qr?10:o>=Lr?5:o>=Fr?2:1;let f,u,l;return i<0?(l=Math.pow(10,-i)/a,f=Math.round(e*l),u=Math.round(t*l),f/l<e&&++f,u/l>t&&--u,l=-l):(l=Math.pow(10,i)*a,f=Math.round(e/l),u=Math.round(t/l),f*l<e&&++f,u*l>t&&--u),u<f&&.5<=n&&n<2?Je(e,t,n*2):[f,u,l]}function Ur(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?Je(t,e,n):Je(e,t,n);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let l=0;l<f;++l)u[l]=(o-l)/-a;else for(let l=0;l<f;++l)u[l]=(o-l)*a;else if(a<0)for(let l=0;l<f;++l)u[l]=(i+l)/-a;else for(let l=0;l<f;++l)u[l]=(i+l)*a;return u}function yt(e,t,n){return t=+t,e=+e,n=+n,Je(e,t,n)[2]}function Wr(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yt(t,e,n):yt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Et(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function qn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ce(){}var Me=.7,Xe=1/Me,ce="\\s*([+-]?\\d+)\\s*",Ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",G="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Vr=/^#([0-9a-f]{3,8})$/,Yr=new RegExp(`^rgb\\(${ce},${ce},${ce}\\)$`),Gr=new RegExp(`^rgb\\(${G},${G},${G}\\)$`),Jr=new RegExp(`^rgba\\(${ce},${ce},${ce},${Ne}\\)$`),Xr=new RegExp(`^rgba\\(${G},${G},${G},${Ne}\\)$`),Zr=new RegExp(`^hsl\\(${Ne},${G},${G}\\)$`),Kr=new RegExp(`^hsla\\(${Ne},${G},${G},${Ne}\\)$`),Dt={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Et(Ce,xe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:qt,formatHex:qt,formatHex8:Qr,formatHsl:ei,formatRgb:Lt,toString:Lt});function qt(){return this.rgb().formatHex()}function Qr(){return this.rgb().formatHex8()}function ei(){return Ln(this).formatHsl()}function Lt(){return this.rgb().formatRgb()}function xe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Vr.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ft(t):n===3?new j(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Te(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Te(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Yr.exec(e))?new j(t[1],t[2],t[3],1):(t=Gr.exec(e))?new j(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Jr.exec(e))?Te(t[1],t[2],t[3],t[4]):(t=Xr.exec(e))?Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zr.exec(e))?Vt(t[1],t[2]/100,t[3]/100,1):(t=Kr.exec(e))?Vt(t[1],t[2]/100,t[3]/100,t[4]):Dt.hasOwnProperty(e)?Ft(Dt[e]):e==="transparent"?new j(NaN,NaN,NaN,0):null}function Ft(e){return new j(e>>16&255,e>>8&255,e&255,1)}function Te(e,t,n,r){return r<=0&&(e=t=n=NaN),new j(e,t,n,r)}function ti(e){return e instanceof Ce||(e=xe(e)),e?(e=e.rgb(),new j(e.r,e.g,e.b,e.opacity)):new j}function bt(e,t,n,r){return arguments.length===1?ti(e):new j(e,t,n,r??1)}function j(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Et(j,bt,qn(Ce,{brighter(e){return e=e==null?Xe:Math.pow(Xe,e),new j(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Me:Math.pow(Me,e),new j(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new j(te(this.r),te(this.g),te(this.b),Ze(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ut,formatHex:Ut,formatHex8:ni,formatRgb:Wt,toString:Wt}));function Ut(){return`#${Q(this.r)}${Q(this.g)}${Q(this.b)}`}function ni(){return`#${Q(this.r)}${Q(this.g)}${Q(this.b)}${Q((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wt(){const e=Ze(this.opacity);return`${e===1?"rgb(":"rgba("}${te(this.r)}, ${te(this.g)}, ${te(this.b)}${e===1?")":`, ${e})`}`}function Ze(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function te(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Q(e){return e=te(e),(e<16?"0":"")+e.toString(16)}function Vt(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new W(e,t,n,r)}function Ln(e){if(e instanceof W)return new W(e.h,e.s,e.l,e.opacity);if(e instanceof Ce||(e=xe(e)),!e)return new W;if(e instanceof W)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,f=o-i,u=(o+i)/2;return f?(t===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-t)/f+2:a=(t-n)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new W(a,f,u,e.opacity)}function ri(e,t,n,r){return arguments.length===1?Ln(e):new W(e,t,n,r??1)}function W(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Et(W,ri,qn(Ce,{brighter(e){return e=e==null?Xe:Math.pow(Xe,e),new W(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Me:Math.pow(Me,e),new W(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new j(ft(e>=240?e-240:e+120,i,r),ft(e,i,r),ft(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new W(Yt(this.h),Be(this.s),Be(this.l),Ze(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ze(this.opacity);return`${e===1?"hsl(":"hsla("}${Yt(this.h)}, ${Be(this.s)*100}%, ${Be(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Yt(e){return e=(e||0)%360,e<0?e+360:e}function Be(e){return Math.max(0,Math.min(1,e||0))}function ft(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const St=e=>()=>e;function ii(e,t){return function(n){return e+n*t}}function oi(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ai(e){return(e=+e)==1?Fn:function(t,n){return n-t?oi(t,n,e):St(isNaN(t)?n:t)}}function Fn(e,t){var n=t-e;return n?ii(e,n):St(isNaN(e)?t:e)}const Gt=function e(t){var n=ai(t);function r(i,o){var a=n((i=bt(i)).r,(o=bt(o)).r),f=n(i.g,o.g),u=n(i.b,o.b),l=Fn(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=f(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=e,r}(1);function li(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function fi(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function si(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=Ct(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function ui(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ke(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ci(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Ct(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var wt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,st=new RegExp(wt.source,"g");function hi(e){return function(){return e}}function di(e){return function(t){return e(t)+""}}function pi(e,t){var n=wt.lastIndex=st.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(e=e+"",t=t+"";(r=wt.exec(e))&&(i=st.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:Ke(r,i)})),n=st.lastIndex;return n<t.length&&(o=t.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?di(u[0].x):hi(t):(t=u.length,function(l){for(var c=0,h;c<t;++c)f[(h=u[c]).i]=h.x(l);return f.join("")})}function Ct(e,t){var n=typeof t,r;return t==null||n==="boolean"?St(t):(n==="number"?Ke:n==="string"?(r=xe(t))?(t=r,Gt):pi:t instanceof xe?Gt:t instanceof Date?ui:fi(t)?li:Array.isArray(t)?si:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ci:Ke)(e,t)}function gi(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Jt={},ut={},ct=34,me=10,ht=13;function Un(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function mi(e,t){var n=Un(e);return function(r,i){return t(n(r),i,e)}}function Xt(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var i in r)i in t||n.push(t[i]=i)}),n}function B(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function _i(e){return e<0?"-"+B(-e,6):e>9999?"+"+B(e,6):B(e,4)}function yi(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),i=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":_i(e.getUTCFullYear())+"-"+B(e.getUTCMonth()+1,2)+"-"+B(e.getUTCDate(),2)+(i?"T"+B(t,2)+":"+B(n,2)+":"+B(r,2)+"."+B(i,3)+"Z":r?"T"+B(t,2)+":"+B(n,2)+":"+B(r,2)+"Z":n||t?"T"+B(t,2)+":"+B(n,2)+"Z":"")}function bi(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(h,s){var p,m,y=i(h,function(g,b){if(p)return p(g,b-1);m=g,p=s?mi(g,s):Un(g)});return y.columns=m||[],y}function i(h,s){var p=[],m=h.length,y=0,g=0,b,M=m<=0,v=!1;h.charCodeAt(m-1)===me&&--m,h.charCodeAt(m-1)===ht&&--m;function k(){if(M)return ut;if(v)return v=!1,Jt;var x,$=y,S;if(h.charCodeAt($)===ct){for(;y++<m&&h.charCodeAt(y)!==ct||h.charCodeAt(++y)===ct;);return(x=y)>=m?M=!0:(S=h.charCodeAt(y++))===me?v=!0:S===ht&&(v=!0,h.charCodeAt(y)===me&&++y),h.slice($+1,x-1).replace(/""/g,'"')}for(;y<m;){if((S=h.charCodeAt(x=y++))===me)v=!0;else if(S===ht)v=!0,h.charCodeAt(y)===me&&++y;else if(S!==n)continue;return h.slice($,x)}return M=!0,h.slice($,m)}for(;(b=k())!==ut;){for(var _=[];b!==Jt&&b!==ut;)_.push(b),b=k();s&&(_=s(_,g++))==null||p.push(_)}return p}function o(h,s){return h.map(function(p){return s.map(function(m){return c(p[m])}).join(e)})}function a(h,s){return s==null&&(s=Xt(h)),[s.map(c).join(e)].concat(o(h,s)).join(`
`)}function f(h,s){return s==null&&(s=Xt(h)),o(h,s).join(`
`)}function u(h){return h.map(l).join(`
`)}function l(h){return h.map(c).join(e)}function c(h){return h==null?"":h instanceof Date?yi(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:r,parseRows:i,format:a,formatBody:f,formatRows:u,formatRow:l,formatValue:c}}var wi=bi(","),vi=wi.parse;function Wn(e){for(var t in e){var n=e[t].trim(),r,i;if(!n)n=null;else if(n==="true")n=!0;else if(n==="false")n=!1;else if(n==="NaN")n=NaN;else if(!isNaN(r=+n))n=r;else if(i=n.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/))ki&&i[4]&&!i[7]&&(n=n.replace(/-/g,"/").replace(/T/," ")),n=new Date(n);else continue;e[t]=n}return e}const ki=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours();function Mi(e){if(!e.ok)throw new Error(e.status+" "+e.statusText);return e.text()}function Ni(e,t){return fetch(e,t).then(Mi)}function xi(e){return function(t,n,r){return arguments.length===2&&typeof n=="function"&&(r=n,n=void 0),Ni(t,n).then(function(i){return e(i,r)})}}var Vn=xi(vi);function Ai(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Qe(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function pe(e){return e=Qe(Math.abs(e)),e?e[1]:NaN}function $i(e,t){return function(n,r){for(var i=n.length,o=[],a=0,f=e[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=e[a=(a+1)%e.length];return o.reverse().join(t)}}function Ei(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Si=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function et(e){if(!(t=Si.exec(e)))throw new Error("invalid format: "+e);var t;return new Ot({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}et.prototype=Ot.prototype;function Ot(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Ot.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ci(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Yn;function Oi(e,t){var n=Qe(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Yn=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Qe(e,Math.max(0,t+o-1))[0]}function Zt(e,t){var n=Qe(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Kt={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ai,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Zt(e*100,t),r:Zt,s:Oi,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Qt(e){return e}var en=Array.prototype.map,tn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ri(e){var t=e.grouping===void 0||e.thousands===void 0?Qt:$i(en.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Qt:Ei(en.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(h){h=et(h);var s=h.fill,p=h.align,m=h.sign,y=h.symbol,g=h.zero,b=h.width,M=h.comma,v=h.precision,k=h.trim,_=h.type;_==="n"?(M=!0,_="g"):Kt[_]||(v===void 0&&(v=12),k=!0,_="g"),(g||s==="0"&&p==="=")&&(g=!0,s="0",p="=");var x=y==="$"?n:y==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",$=y==="$"?r:/[%p]/.test(_)?a:"",S=Kt[_],T=/[defgprs%]/.test(_);v=v===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function I(w){var O=x,N=$,q,It,Oe;if(_==="c")N=S(w)+N,w="";else{w=+w;var Re=w<0||1/w<0;if(w=isNaN(w)?u:S(Math.abs(w),v),k&&(w=Ci(w)),Re&&+w==0&&m!=="+"&&(Re=!1),O=(Re?m==="("?m:f:m==="-"||m==="("?"":m)+O,N=(_==="s"?tn[8+Yn/3]:"")+N+(Re&&m==="("?")":""),T){for(q=-1,It=w.length;++q<It;)if(Oe=w.charCodeAt(q),48>Oe||Oe>57){N=(Oe===46?i+w.slice(q+1):w.slice(q))+N,w=w.slice(0,q);break}}}M&&!g&&(w=t(w,1/0));var Ie=O.length+w.length+N.length,J=Ie<b?new Array(b-Ie+1).join(s):"";switch(M&&g&&(w=t(J+w,J.length?b-N.length:1/0),J=""),p){case"<":w=O+w+N+J;break;case"=":w=O+J+w+N;break;case"^":w=J.slice(0,Ie=J.length>>1)+O+w+N+J.slice(Ie);break;default:w=J+O+w+N;break}return o(w)}return I.toString=function(){return h+""},I}function c(h,s){var p=l((h=et(h),h.type="f",h)),m=Math.max(-8,Math.min(8,Math.floor(pe(s)/3)))*3,y=Math.pow(10,-m),g=tn[8+m/3];return function(b){return p(y*b)+g}}return{format:l,formatPrefix:c}}var ze,Rt,Gn;Ii({thousands:",",grouping:[3],currency:["$",""]});function Ii(e){return ze=Ri(e),Rt=ze.format,Gn=ze.formatPrefix,ze}function Pi(e){return Math.max(0,-pe(Math.abs(e)))}function Ti(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(pe(t)/3)))*3-pe(Math.abs(e)))}function Bi(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,pe(t)-pe(e))+1}function zi(e){var t=0,n=e.children,r=n&&n.length;if(!r)t=1;else for(;--r>=0;)t+=n[r].value;e.value=t}function ji(){return this.eachAfter(zi)}function Hi(e,t){let n=-1;for(const r of this)e.call(t,r,++n,this);return this}function Di(e,t){for(var n=this,r=[n],i,o,a=-1;n=r.pop();)if(e.call(t,n,++a,this),i=n.children)for(o=i.length-1;o>=0;--o)r.push(i[o]);return this}function qi(e,t){for(var n=this,r=[n],i=[],o,a,f,u=-1;n=r.pop();)if(i.push(n),o=n.children)for(a=0,f=o.length;a<f;++a)r.push(o[a]);for(;n=i.pop();)e.call(t,n,++u,this);return this}function Li(e,t){let n=-1;for(const r of this)if(e.call(t,r,++n,this))return r}function Fi(e){return this.eachAfter(function(t){for(var n=+e(t.data)||0,r=t.children,i=r&&r.length;--i>=0;)n+=r[i].value;t.value=n})}function Ui(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})}function Wi(e){for(var t=this,n=Vi(t,e),r=[t];t!==n;)t=t.parent,r.push(t);for(var i=r.length;e!==n;)r.splice(i,0,e),e=e.parent;return r}function Vi(e,t){if(e===t)return e;var n=e.ancestors(),r=t.ancestors(),i=null;for(e=n.pop(),t=r.pop();e===t;)i=e,e=n.pop(),t=r.pop();return i}function Yi(){for(var e=this,t=[e];e=e.parent;)t.push(e);return t}function Gi(){return Array.from(this)}function Ji(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e}function Xi(){var e=this,t=[];return e.each(function(n){n!==e&&t.push({source:n.parent,target:n})}),t}function*Zi(){var e=this,t,n=[e],r,i,o;do for(t=n.reverse(),n=[];e=t.pop();)if(yield e,r=e.children)for(i=0,o=r.length;i<o;++i)n.push(r[i]);while(n.length)}function Jn(e,t){e instanceof Map?(e=[void 0,e],t===void 0&&(t=eo)):t===void 0&&(t=Qi);for(var n=new Ae(e),r,i=[n],o,a,f,u;r=i.pop();)if((a=t(r.data))&&(u=(a=Array.from(a)).length))for(r.children=a,f=u-1;f>=0;--f)i.push(o=a[f]=new Ae(a[f])),o.parent=r,o.depth=r.depth+1;return n.eachBefore(Xn)}function Ki(){return Jn(this).eachBefore(to)}function Qi(e){return e.children}function eo(e){return Array.isArray(e)?e[1]:null}function to(e){e.data.value!==void 0&&(e.value=e.data.value),e.data=e.data.data}function Xn(e){var t=0;do e.height=t;while((e=e.parent)&&e.height<++t)}function Ae(e){this.data=e,this.depth=this.height=0,this.parent=null}Ae.prototype=Jn.prototype={constructor:Ae,count:ji,each:Hi,eachAfter:qi,eachBefore:Di,find:Li,sum:Fi,sort:Ui,path:Wi,ancestors:Yi,descendants:Gi,leaves:Ji,links:Xi,copy:Ki,[Symbol.iterator]:Zi};function dt(e){return e==null?null:Zn(e)}function Zn(e){if(typeof e!="function")throw new Error;return e}function _e(){return 0}function ye(e){return function(){return e}}function no(e){e.x0=Math.round(e.x0),e.y0=Math.round(e.y0),e.x1=Math.round(e.x1),e.y1=Math.round(e.y1)}function ro(e,t,n,r,i){for(var o=e.children,a,f=-1,u=o.length,l=e.value&&(r-t)/e.value;++f<u;)a=o[f],a.y0=n,a.y1=i,a.x0=t,a.x1=t+=a.value*l}var io={depth:-1},nn={},pt={};function oo(e){return e.id}function ao(e){return e.parentId}function lo(){var e=oo,t=ao,n;function r(i){var o=Array.from(i),a=e,f=t,u,l,c,h,s,p,m,y,g=new Map;if(n!=null){const b=o.map((k,_)=>fo(n(k,_,i))),M=b.map(rn),v=new Set(b).add("");for(const k of M)v.has(k)||(v.add(k),b.push(k),M.push(rn(k)),o.push(pt));a=(k,_)=>b[_],f=(k,_)=>M[_]}for(c=0,u=o.length;c<u;++c)l=o[c],p=o[c]=new Ae(l),(m=a(l,c,i))!=null&&(m+="")&&(y=p.id=m,g.set(y,g.has(y)?nn:p)),(m=f(l,c,i))!=null&&(m+="")&&(p.parent=m);for(c=0;c<u;++c)if(p=o[c],m=p.parent){if(s=g.get(m),!s)throw new Error("missing: "+m);if(s===nn)throw new Error("ambiguous: "+m);s.children?s.children.push(p):s.children=[p],p.parent=s}else{if(h)throw new Error("multiple roots");h=p}if(!h)throw new Error("no root");if(n!=null){for(;h.data===pt&&h.children.length===1;)h=h.children[0],--u;for(let b=o.length-1;b>=0&&(p=o[b],p.data===pt);--b)p.data=null}if(h.parent=io,h.eachBefore(function(b){b.depth=b.parent.depth+1,--u}).eachBefore(Xn),h.parent=null,u>0)throw new Error("cycle");return h}return r.id=function(i){return arguments.length?(e=dt(i),r):e},r.parentId=function(i){return arguments.length?(t=dt(i),r):t},r.path=function(i){return arguments.length?(n=dt(i),r):n},r}function fo(e){e=`${e}`;let t=e.length;return vt(e,t-1)&&!vt(e,t-2)&&(e=e.slice(0,-1)),e[0]==="/"?e:`/${e}`}function rn(e){let t=e.length;if(t<2)return"";for(;--t>1&&!vt(e,t););return e.slice(0,t)}function vt(e,t){if(e[t]==="/"){let n=0;for(;t>0&&e[--t]==="\\";)++n;if(!(n&1))return!0}return!1}function so(e,t,n,r,i){for(var o=e.children,a,f=-1,u=o.length,l=e.value&&(i-n)/e.value;++f<u;)a=o[f],a.x0=t,a.x1=r,a.y0=n,a.y1=n+=a.value*l}var uo=(1+Math.sqrt(5))/2;function co(e,t,n,r,i,o){for(var a=[],f=t.children,u,l,c=0,h=0,s=f.length,p,m,y=t.value,g,b,M,v,k,_,x;c<s;){p=i-n,m=o-r;do g=f[h++].value;while(!g&&h<s);for(b=M=g,_=Math.max(m/p,p/m)/(y*e),x=g*g*_,k=Math.max(M/x,x/b);h<s;++h){if(g+=l=f[h].value,l<b&&(b=l),l>M&&(M=l),x=g*g*_,v=Math.max(M/x,x/b),v>k){g-=l;break}k=v}a.push(u={value:g,dice:p<m,children:f.slice(c,h)}),u.dice?ro(u,n,r,i,y?r+=m*g/y:o):so(u,n,r,y?n+=p*g/y:i,o),y-=g,c=h}return a}const kt=function e(t){function n(r,i,o,a,f){co(t,r,i,o,a,f)}return n.ratio=function(r){return e((r=+r)>1?r:1)},n}(uo);function on(){var e=kt,t=!1,n=1,r=1,i=[0],o=_e,a=_e,f=_e,u=_e,l=_e;function c(s){return s.x0=s.y0=0,s.x1=n,s.y1=r,s.eachBefore(h),i=[0],t&&s.eachBefore(no),s}function h(s){var p=i[s.depth],m=s.x0+p,y=s.y0+p,g=s.x1-p,b=s.y1-p;g<m&&(m=g=(m+g)/2),b<y&&(y=b=(y+b)/2),s.x0=m,s.y0=y,s.x1=g,s.y1=b,s.children&&(p=i[s.depth+1]=o(s)/2,m+=l(s)-p,y+=a(s)-p,g-=f(s)-p,b-=u(s)-p,g<m&&(m=g=(m+g)/2),b<y&&(y=b=(y+b)/2),e(s,m,y,g,b))}return c.round=function(s){return arguments.length?(t=!!s,c):t},c.size=function(s){return arguments.length?(n=+s[0],r=+s[1],c):[n,r]},c.tile=function(s){return arguments.length?(e=Zn(s),c):e},c.padding=function(s){return arguments.length?c.paddingInner(s).paddingOuter(s):c.paddingInner()},c.paddingInner=function(s){return arguments.length?(o=typeof s=="function"?s:ye(+s),c):o},c.paddingOuter=function(s){return arguments.length?c.paddingTop(s).paddingRight(s).paddingBottom(s).paddingLeft(s):c.paddingTop()},c.paddingTop=function(s){return arguments.length?(a=typeof s=="function"?s:ye(+s),c):a},c.paddingRight=function(s){return arguments.length?(f=typeof s=="function"?s:ye(+s),c):f},c.paddingBottom=function(s){return arguments.length?(u=typeof s=="function"?s:ye(+s),c):u},c.paddingLeft=function(s){return arguments.length?(l=typeof s=="function"?s:ye(+s),c):l},c}function Kn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const an=Symbol("implicit");function tt(){var e=new jt,t=[],n=[],r=an;function i(o){let a=e.get(o);if(a===void 0){if(r!==an)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new jt;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return tt(t,n).unknown(r)},Kn.apply(i,arguments),i}function ho(e){return function(){return e}}function po(e){return+e}var ln=[0,1];function fe(e){return e}function Mt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:ho(isNaN(t)?NaN:.5)}function go(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function mo(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Mt(i,r),o=n(a,o)):(r=Mt(r,i),o=n(o,a)),function(f){return o(r(f))}}function _o(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Mt(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(f){var u=zr(e,f,1,r)-1;return o[u](i[u](f))}}function yo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function bo(){var e=ln,t=ln,n=Ct,r,i,o,a=fe,f,u,l;function c(){var s=Math.min(e.length,t.length);return a!==fe&&(a=go(e[0],e[s-1])),f=s>2?_o:mo,u=l=null,h}function h(s){return s==null||isNaN(s=+s)?o:(u||(u=f(e.map(r),t,n)))(r(a(s)))}return h.invert=function(s){return a(i((l||(l=f(t,e.map(r),Ke)))(s)))},h.domain=function(s){return arguments.length?(e=Array.from(s,po),c()):e.slice()},h.range=function(s){return arguments.length?(t=Array.from(s),c()):t.slice()},h.rangeRound=function(s){return t=Array.from(s),n=gi,c()},h.clamp=function(s){return arguments.length?(a=s?!0:fe,c()):a!==fe},h.interpolate=function(s){return arguments.length?(n=s,c()):n},h.unknown=function(s){return arguments.length?(o=s,h):o},function(s,p){return r=s,i=p,c()}}function wo(){return bo()(fe,fe)}function vo(e,t,n,r){var i=Wr(e,t,n),o;switch(r=et(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Ti(i,a))&&(r.precision=o),Gn(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Bi(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Pi(i))&&(r.precision=o-(r.type==="%")*2);break}}return Rt(r)}function ko(e){var t=e.domain;return e.ticks=function(n){var r=t();return Ur(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return vo(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],u,l,c=10;for(f<a&&(l=a,a=f,f=l,l=i,i=o,o=l);c-- >0;){if(l=yt(a,f,n),l===u)return r[i]=a,r[o]=f,t(r);if(l>0)a=Math.floor(a/l)*l,f=Math.ceil(f/l)*l;else if(l<0)a=Math.ceil(a*l)/l,f=Math.floor(f*l)/l;else break;u=l}return e},e}function $e(){var e=wo();return e.copy=function(){return yo(e,$e())},Kn.apply(e,arguments),ko(e)}function be(e,t,n){this.k=e,this.x=t,this.y=n}be.prototype={constructor:be,scale:function(e){return e===1?this:new be(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new be(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};be.prototype;async function Qn(e){try{return await Vn(e,Wn)}catch{return[]}}function er(e){return Hn(e,t=>{if(t.length===0)return null;const n=lo().id(r=>r.country).parentId(r=>r.parent);try{return n(t)}catch{return null}})}const tr=it([]),fn=er(tr),nr=it([]),sn=er(nr);async function Mo(e){const t=await Qn(e);tr.set(t)}async function No(e){const t=await Qn(e);nr.set(t)}const xo=it([],async e=>{const t=await Vn("https://raw.githubusercontent.com/mharoruiz/datasets/main/e-waste/ewaste.csv",Wn);e(t)}),rr=Hn(xo,e=>e.length>0?e.slice().sort((t,n)=>n.ewaste_kg_capita-t.ewaste_kg_capita):[]);function F(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Ao(e){const t=e-1;return t*t*t+1}function $o(e){return Math.pow(e,4)}function U(e,{delay:t=0,duration:n=400,easing:r=xt}={}){const i=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function Eo(e,{delay:t=0,duration:n=400,easing:r=Ao,start:i=0,opacity:o=0}={}){const a=getComputedStyle(e),f=+a.opacity,u=a.transform==="none"?"":a.transform,l=1-i,c=f*(1-o);return{delay:t,duration:n,easing:r,css:(h,s)=>`
			transform: ${u} scale(${1-l*s});
			opacity: ${f-c*s}
		`}}function un(e,t,n){const r=e.slice();return r[23]=t[n],r[25]=n,r}function cn(e,t,n){const r=e.slice();return r[26]=t[n],r[28]=n,r}function So(e){let t,n,r,i,o=Y(e[3]),a=[];for(let f=0;f<o.length;f+=1)a[f]=gn(un(e,o,f));return{c(){t=E("g");for(let f=0;f<a.length;f+=1)a[f].c();d(t,"transform-origin","center")},m(f,u){R(f,t,u);for(let l=0;l<a.length;l+=1)a[l]&&a[l].m(t,null);i=!0},p(f,u){if(u&2043){o=Y(f[3]);let l;for(l=0;l<o.length;l+=1){const c=un(f,o,l);a[l]?a[l].p(c,u):(a[l]=gn(c),a[l].c(),a[l].m(t,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=o.length}},i(f){i||(f&&D(()=>{i&&(r&&r.end(1),n=ne(t,U,{duration:1e3,easing:F}),n.start())}),i=!0)},o(f){n&&n.invalidate(),f&&(r=de(t,U,{duration:1e3,easing:F})),i=!1},d(f){f&&C(t),ve(a,f),f&&r&&r.end()}}}function Co(e){let t,n,r,i,o,a,f,u,l,c,h,s,p;return{c(){t=E("g"),n=E("rect"),o=E("clipPath"),a=E("use"),f=E("text"),u=P(`World
                    `),l=E("text"),c=P("61.9 bln kg"),d(n,"id","rect-init"),d(n,"width",r=e[1]-e[10].right-e[10].left),d(n,"height",i=e[2]-e[10].top-e[10].bottom),d(n,"stroke","black"),d(n,"stroke-width",".5px"),d(n,"fill","#898a74"),d(n,"opacity",".66"),d(n,"class","svelte-anecof"),d(a,"href","#rect-init"),d(o,"id","clip-init"),d(f,"class","country-label-name svelte-anecof"),d(f,"clip-path","url(#clip-init)"),d(f,"x",7.5),d(f,"y",20),d(l,"class","country-label-value svelte-anecof"),d(l,"clip-path","url(#clip-init)"),d(l,"x",10),d(l,"y",35),d(t,"transform-origin","center")},m(m,y){R(m,t,y),A(t,n),A(t,o),A(o,a),A(t,f),A(f,u),A(t,l),A(l,c),p=!0},p(m,y){(!p||y&2&&r!==(r=m[1]-m[10].right-m[10].left))&&d(n,"width",r),(!p||y&4&&i!==(i=m[2]-m[10].top-m[10].bottom))&&d(n,"height",i)},i(m){p||(m&&D(()=>{p&&(s&&s.end(1),h=ne(t,Eo,{duration:750,easing:F}),h.start())}),p=!0)},o(m){h&&h.invalidate(),m&&(s=de(t,U,{duration:1e3,easing:F})),p=!1},d(m){m&&C(t),m&&s&&s.end()}}}function hn(e){let t,n=Y(e[7]),r=[];for(let i=0;i<n.length;i+=1)r[i]=dn(cn(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Ue()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);R(i,t,o)},p(i,o){if(o&1993){n=Y(i[7]);let a;for(a=0;a<n.length;a+=1){const f=cn(i,n,a);r[a]?r[a].p(f,o):(r[a]=dn(f),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){i&&C(t),ve(r,i)}}}function dn(e){let t,n,r,i,o,a,f,u;return{c(){t=E("rect"),d(t,"id","rect-"+(e[25]+e[28])),d(t,"x",n=e[0]==4?e[10].leftBars-e[10].left:e[23].x0+e[26].x0),d(t,"y",r=e[0]==4?e[9]*(e[26].data.rank_capita-1)+e[9]*K:e[23].y0+e[26].y0),d(t,"width",i=e[0]==4?e[8](e[26].data.ewaste_capita):e[26].x1-e[26].x0),d(t,"height",o=e[0]==4?e[9]-2*e[9]*K:e[26].y1-e[26].y0),d(t,"stroke","black"),d(t,"stroke-width",a=e[0]==4?"0":".2px"),d(t,"fill",f=e[0]==4?e[6](e[26].data.income):"#d3d3d3"),d(t,"fill-opacity",u=e[0]==4?"1":".75"),d(t,"class","svelte-anecof")},m(l,c){R(l,t,c)},p(l,c){c&137&&n!==(n=l[0]==4?l[10].leftBars-l[10].left:l[23].x0+l[26].x0)&&d(t,"x",n),c&649&&r!==(r=l[0]==4?l[9]*(l[26].data.rank_capita-1)+l[9]*K:l[23].y0+l[26].y0)&&d(t,"y",r),c&385&&i!==(i=l[0]==4?l[8](l[26].data.ewaste_capita):l[26].x1-l[26].x0)&&d(t,"width",i),c&641&&o!==(o=l[0]==4?l[9]-2*l[9]*K:l[26].y1-l[26].y0)&&d(t,"height",o),c&1&&a!==(a=l[0]==4?"0":".2px")&&d(t,"stroke-width",a),c&193&&f!==(f=l[0]==4?l[6](l[26].data.income):"#d3d3d3")&&d(t,"fill",f),c&1&&u!==(u=l[0]==4?"1":".75")&&d(t,"fill-opacity",u)},d(l){l&&C(t)}}}function Oo(e){let t,n=e[23].data.country+"",r,i,o,a,f,u,l=(e[23].data.country=="China"?`${e[23].data.ewaste.toFixed(1)} bln kg`:e[23].data.ewaste.toFixed(1))+"",c,h,s,p,m,y;return{c(){t=E("text"),r=P(n),u=E("text"),c=P(l),d(t,"class","country-label-name svelte-anecof"),d(t,"clip-path","url(#clip-"+e[25]+")"),d(t,"x",i=e[23].x0+5),d(t,"y",o=e[23].y0+20),d(u,"class","country-label-value svelte-anecof"),d(u,"clip-path","url(#clip-"+e[25]+")"),d(u,"x",h=e[23].x0+7.5),d(u,"y",s=e[23].y0+35)},m(g,b){R(g,t,b),A(t,r),R(g,u,b),A(u,c),y=!0},p(g,b){(!y||b&8)&&n!==(n=g[23].data.country+"")&&he(r,n),(!y||b&8&&i!==(i=g[23].x0+5))&&d(t,"x",i),(!y||b&8&&o!==(o=g[23].y0+20))&&d(t,"y",o),(!y||b&8)&&l!==(l=(g[23].data.country=="China"?`${g[23].data.ewaste.toFixed(1)} bln kg`:g[23].data.ewaste.toFixed(1))+"")&&he(c,l),(!y||b&8&&h!==(h=g[23].x0+7.5))&&d(u,"x",h),(!y||b&8&&s!==(s=g[23].y0+35))&&d(u,"y",s)},i(g){y||(g&&D(()=>{y&&(f&&f.end(1),a=ne(t,U,{duration:1e3,easing:F}),a.start())}),g&&D(()=>{y&&(m&&m.end(1),p=ne(u,U,{duration:1e3,easing:F}),p.start())}),y=!0)},o(g){a&&a.invalidate(),g&&(f=de(t,U,{duration:750,easing:F})),p&&p.invalidate(),g&&(m=de(u,U,{duration:750,easing:F})),y=!1},d(g){g&&(C(t),C(u)),g&&f&&f.end(),g&&m&&m.end()}}}function Ro(e){let t,n=(e[23].data.country=="Japan"?"Other":e[23].data.country)+"",r,i,o,a,f,u,l=(e[23].data.country=="China"?`${e[23].data.ewaste.toFixed(1)} bln kg`:e[23].data.country=="Japan"?"38.5":e[23].data.ewaste.toFixed(1))+"",c,h,s,p,m,y;return{c(){t=E("text"),r=P(n),u=E("text"),c=P(l),d(t,"class","country-label-name svelte-anecof"),d(t,"clip-path","url(#clip-"+e[25]+")"),d(t,"x",i=e[23].x0+5),d(t,"y",o=e[23].y0+20),d(u,"class","country-label-value svelte-anecof"),d(u,"clip-path","url(#clip-"+e[25]+")"),d(u,"x",h=e[23].x0+7.5),d(u,"y",s=e[23].y0+35)},m(g,b){R(g,t,b),A(t,r),R(g,u,b),A(u,c),y=!0},p(g,b){(!y||b&8)&&n!==(n=(g[23].data.country=="Japan"?"Other":g[23].data.country)+"")&&he(r,n),(!y||b&8&&i!==(i=g[23].x0+5))&&d(t,"x",i),(!y||b&8&&o!==(o=g[23].y0+20))&&d(t,"y",o),(!y||b&8)&&l!==(l=(g[23].data.country=="China"?`${g[23].data.ewaste.toFixed(1)} bln kg`:g[23].data.country=="Japan"?"38.5":g[23].data.ewaste.toFixed(1))+"")&&he(c,l),(!y||b&8&&h!==(h=g[23].x0+7.5))&&d(u,"x",h),(!y||b&8&&s!==(s=g[23].y0+35))&&d(u,"y",s)},i(g){y||(g&&D(()=>{y&&(f&&f.end(1),a=ne(t,U,{duration:1e3,easing:F}),a.start())}),g&&D(()=>{y&&(m&&m.end(1),p=ne(u,U,{duration:1e3,easing:F}),p.start())}),y=!0)},o(g){a&&a.invalidate(),g&&(f=de(t,U,{duration:750,easing:F})),p&&p.invalidate(),g&&(m=de(u,U,{duration:750,easing:F})),y=!1},d(g){g&&(C(t),C(u)),g&&f&&f.end(),g&&m&&m.end()}}}function pn(e){let t;return{c(){t=E("rect"),d(t,"x",-e[10].left),d(t,"y",e[4]),d(t,"width",e[1]),d(t,"height",e[10].bottom*2),d(t,"fill","white")},m(n,r){R(n,t,r)},p(n,r){r&16&&d(t,"y",n[4]),r&2&&d(t,"width",n[1])},d(n){n&&C(t)}}}function gn(e){let t,n,r,i,o,a,f,u,l,c,h,s,p,m,y,g=e[23].data.country=="Other"&&hn(e);const b=[Ro,Oo],M=[];function v(_,x){return _[0]<2&&_[25]<=3?0:_[0]==2||_[0]==3?1:-1}~(s=v(e))&&(p=M[s]=b[s](e));let k=e[0]==4&&pn(e);return{c(){t=E("rect"),g&&g.c(),c=E("clipPath"),h=E("use"),p&&p.c(),m=Ue(),k&&k.c(),y=Ue(),d(t,"id","rect-"+e[25]),d(t,"x",n=e[0]==4?e[10].leftBars-e[10].left:e[23].x0),d(t,"y",r=e[0]==4?e[9]*(e[23].data.rank_capita-1)+e[9]*K:e[23].y0),d(t,"width",i=e[0]==4?e[8](e[23].data.ewaste_capita):e[23].x1-e[23].x0),d(t,"height",o=e[0]==4?e[9]-2*e[9]*K:e[23].y1-e[23].y0),d(t,"stroke",a=e[23].data.country=="Other"?"none":"black"),d(t,"stroke-width",f=e[0]==4?"0":".2px"),d(t,"fill",u=e[0]==1&&e[25]<=2?e[5](e[23].data.country):e[0]==1&&e[25]>2&&e[23].data.country!="Other"?"#d3d3d3":e[0]==1&&e[23].data.country=="Other"?"none":(e[0]==2||e[0]==3)&&e[23].data.country!="Other"?e[5](e[23].data.country):(e[0]==2||e[0]==3)&&e[23].data.country=="Other"?"none":e[0]==4&&e[23].data.country!="Other"?e[6](e[23].data.income):"none"),d(t,"fill-opacity",l=e[0]==4?"1":".75"),d(t,"class","svelte-anecof"),d(h,"href","#rect-"+e[25]),d(c,"id","clip-"+e[25])},m(_,x){R(_,t,x),g&&g.m(_,x),R(_,c,x),A(c,h),~s&&M[s].m(_,x),R(_,m,x),k&&k.m(_,x),R(_,y,x)},p(_,x){x&9&&n!==(n=_[0]==4?_[10].leftBars-_[10].left:_[23].x0)&&d(t,"x",n),x&521&&r!==(r=_[0]==4?_[9]*(_[23].data.rank_capita-1)+_[9]*K:_[23].y0)&&d(t,"y",r),x&265&&i!==(i=_[0]==4?_[8](_[23].data.ewaste_capita):_[23].x1-_[23].x0)&&d(t,"width",i),x&521&&o!==(o=_[0]==4?_[9]-2*_[9]*K:_[23].y1-_[23].y0)&&d(t,"height",o),x&8&&a!==(a=_[23].data.country=="Other"?"none":"black")&&d(t,"stroke",a),x&1&&f!==(f=_[0]==4?"0":".2px")&&d(t,"stroke-width",f),x&105&&u!==(u=_[0]==1&&_[25]<=2?_[5](_[23].data.country):_[0]==1&&_[25]>2&&_[23].data.country!="Other"?"#d3d3d3":_[0]==1&&_[23].data.country=="Other"?"none":(_[0]==2||_[0]==3)&&_[23].data.country!="Other"?_[5](_[23].data.country):(_[0]==2||_[0]==3)&&_[23].data.country=="Other"?"none":_[0]==4&&_[23].data.country!="Other"?_[6](_[23].data.income):"none")&&d(t,"fill",u),x&1&&l!==(l=_[0]==4?"1":".75")&&d(t,"fill-opacity",l),_[23].data.country=="Other"?g?g.p(_,x):(g=hn(_),g.c(),g.m(c.parentNode,c)):g&&(g.d(1),g=null);let $=s;s=v(_),s===$?~s&&M[s].p(_,x):(p&&(Bn(),ee(M[$],1,1,()=>{M[$]=null}),zn()),~s?(p=M[s],p?p.p(_,x):(p=M[s]=b[s](_),p.c()),V(p,1),p.m(m.parentNode,m)):p=null),_[0]==4?k?k.p(_,x):(k=pn(_),k.c(),k.m(y.parentNode,y)):k&&(k.d(1),k=null)},d(_){_&&(C(t),C(c),C(m),C(y)),g&&g.d(_),~s&&M[s].d(_),k&&k.d(_)}}}function Io(e){let t,n,r,i,o,a;const f=[Co,So],u=[];function l(c,h){return c[0]<1?0:c[0]>=1&&c[0]<=4?1:-1}return~(i=l(e))&&(o=u[i]=f[i](e)),{c(){t=z("div"),n=E("svg"),r=E("g"),o&&o.c(),d(r,"transform","translate("+e[10].left+", "+e[10].top+")"),d(n,"width",e[1]),d(n,"height",e[2]),d(t,"class","chart"),D(()=>e[19].call(t))},m(c,h){R(c,t,h),A(t,n),A(n,r),~i&&u[i].m(r,null),a=On(t,e[19].bind(t))},p(c,[h]){let s=i;i=l(c),i===s?~i&&u[i].p(c,h):(o&&(Bn(),ee(u[s],1,1,()=>{u[s]=null}),zn()),~i?(o=u[i],o?o.p(c,h):(o=u[i]=f[i](c),o.c()),V(o,1),o.m(r,null)):o=null),h&2&&d(n,"width",c[1]),h&4&&d(n,"height",c[2])},i(c){V(o)},o(c){ee(o)},d(c){c&&C(t),~i&&u[i].d(),a()}}}let Po=20,K=.1;function To(e,t,n){let r,i,o;He(e,rr,$=>n(16,r=$)),He(e,sn,$=>n(17,i=$)),He(e,fn,$=>n(18,o=$));let{step:a}=t,f,u,l,c,h,s,p=[],m=[];const y={top:10,bottom:45,left:10,leftBars:75,right:10};Rt(",d"),In(()=>{Mo("https://raw.githubusercontent.com/mharoruiz/datasets/main/e-waste/treemap_outer.csv"),No("https://raw.githubusercontent.com/mharoruiz/datasets/main/e-waste/treemap_inner.csv")});let g,b,M,v,k,_;function x(){f=this.offsetWidth,u=this.offsetHeight,n(1,f),n(2,u)}return e.$$set=$=>{"step"in $&&n(0,a=$.step)},e.$$.update=()=>{if(e.$$.dirty&262158&&o){const $=Tt(fn);$&&(on().tile(kt).size([f-y.left-y.right,u-y.top-y.bottom]).paddingOuter(1).paddingInner(0).round(!0)($.sum(T=>+T.ewaste)),n(3,p=$.leaves()),n(11,l=p[p.length-1].x1-p[p.length-1].x0),n(12,c=p[p.length-1].y1-p[p.length-1].y0)),n(5,h=tt(p.map(S=>S.data.country),["#53A182","#A27C43","#724292","#724292","#A27C43","#53A182","#724292","#A27C43","#6D4587","#53A182","#d3d3d3"]))}if(e.$$.dirty&137216&&i){const $=Tt(sn);$&&(on().tile(kt).size([l,c]).paddingOuter(0).paddingInner(0).round(!0)($.sum(T=>+T.ewaste)),n(7,m=$.leaves()))}e.$$.dirty&122902&&r&&(n(13,g=r),n(14,b=f-y.right-y.leftBars),n(4,M=u-y.bottom-y.top),n(15,v=g.map($=>+$.ewaste_kg_capita)),n(8,k=$e().domain([0,Math.max.apply(null,v)]).range([0,b])),g.map($=>$.country),$e().domain([0,1]).range([0,M]),n(9,_=M/Po),n(6,s=tt(["high","middle","low","NA"],["#53A182","#A27C43","#724292","grey"])))},[a,f,u,p,M,h,s,m,k,_,y,l,c,g,b,v,r,i,o,x]}class Bo extends rt{constructor(t){super(),nt(this,t,To,Io,Se,{step:0})}}function mn(e,t,n){const r=e.slice();return r[16]=t[n],r}function _n(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function yn(e){let t,n,r,i,o,a,f,u,l,c,h,s,p,m,y,g,b,M,v,k,_,x,$=Y(e[1]),S=[];for(let w=0;w<$.length;w+=1)S[w]=wn(_n(e,$,w));let T=Y(e[9]),I=[];for(let w=0;w<T.length;w+=1)I[w]=vn(mn(e,T,w));return{c(){t=E("svg"),n=E("g"),r=E("g");for(let w=0;w<S.length;w+=1)S[w].c();o=E("rect"),a=E("rect"),f=E("g");for(let w=0;w<I.length;w+=1)I[w].c();u=E("text"),l=P(`kg/capita
                    `),s=E("g"),p=E("line"),y=E("text"),g=P(`Global average:
                    `),M=E("text"),v=P("7.87 kg/capita"),d(r,"transform",i="translate(0 "+(e[0]<=4?0:e[0]==6?-49*e[10]:e[0]==7?-172*e[10]:0)+`) 
                        scale(1, `+(e[0]==8?Nt/e[7].length:1)+")"),L(r,"transition","transform 2s cubic-bezier(.5,.2,0,1)"),d(o,"x",-e[12].left),d(o,"y",-e[12].top*2),d(o,"width",e[2]),d(o,"height",e[12].top*2),d(o,"fill","white"),d(a,"x",-e[12].left),d(a,"y",e[5]),d(a,"width",e[2]),d(a,"height",e[12].bottom*2),d(a,"fill","white"),d(u,"class","x-axis-title label svelte-1o4fil4"),d(u,"text-anchor","middle"),d(u,"x",c=e[4]/2),d(u,"y",h=e[12].top+e[5]+e[12].bottom*.66),d(p,"y1",-X),d(p,"y2",m=e[5]+X),d(p,"stroke-width","1.5px"),d(p,"stroke-dasharray","5,5"),d(p,"stroke","#D13E3E"),d(y,"class","plot-annotation label svelte-1o4fil4"),d(y,"text-anchor","start"),d(y,"dx",".5em"),d(y,"y",b=e[8](.85)),d(M,"class","plot-annotation label svelte-1o4fil4"),d(M,"text-anchor","start"),d(M,"dx",".5em"),d(M,"y",k=e[8](.89)),d(s,"transform",_="translate("+e[6](7.87)+",0)"),L(s,"opacity",e[0]==8?1:0),L(s,"transition","opacity 2s ease-in-out"),d(n,"transform","translate("+e[12].left+", "+e[12].top+")"),d(t,"width",e[2]),d(t,"height",e[3])},m(w,O){R(w,t,O),A(t,n),A(n,r);for(let N=0;N<S.length;N+=1)S[N]&&S[N].m(r,null);A(n,o),A(n,a),A(n,f);for(let N=0;N<I.length;N+=1)I[N]&&I[N].m(f,null);A(f,u),A(u,l),A(n,s),A(s,p),A(s,y),A(y,g),A(s,M),A(M,v)},p(w,O){if(O&3139){$=Y(w[1]);let N;for(N=0;N<$.length;N+=1){const q=_n(w,$,N);S[N]?S[N].p(q,O):(S[N]=wn(q),S[N].c(),S[N].m(r,null))}for(;N<S.length;N+=1)S[N].d(1);S.length=$.length}if(O&1153&&i!==(i="translate(0 "+(w[0]<=4?0:w[0]==6?-49*w[10]:w[0]==7?-172*w[10]:0)+`) 
                        scale(1, `+(w[0]==8?Nt/w[7].length:1)+")")&&d(r,"transform",i),O&4&&d(o,"width",w[2]),O&32&&d(a,"y",w[5]),O&4&&d(a,"width",w[2]),O&608){T=Y(w[9]);let N;for(N=0;N<T.length;N+=1){const q=mn(w,T,N);I[N]?I[N].p(q,O):(I[N]=vn(q),I[N].c(),I[N].m(f,u))}for(;N<I.length;N+=1)I[N].d(1);I.length=T.length}O&16&&c!==(c=w[4]/2)&&d(u,"x",c),O&32&&h!==(h=w[12].top+w[5]+w[12].bottom*.66)&&d(u,"y",h),O&32&&m!==(m=w[5]+X)&&d(p,"y2",m),O&256&&b!==(b=w[8](.85))&&d(y,"y",b),O&256&&k!==(k=w[8](.89))&&d(M,"y",k),O&64&&_!==(_="translate("+w[6](7.87)+",0)")&&d(s,"transform",_),O&1&&L(s,"opacity",w[0]==8?1:0),O&4&&d(t,"width",w[2]),O&8&&d(t,"height",w[3])},i(w){w&&(x||D(()=>{x=ne(t,U,{duration:3e3,easing:$o}),x.start()}))},o:H,d(w){w&&C(t),ve(S,w),ve(I,w)}}}function bn(e){let t,n,r,i,o;return{c(){t=E("rect"),d(t,"x","0"),d(t,"y",n=e[10]*e[21]+e[10]*je),d(t,"width",r=e[6](e[19].ewaste_kg_capita)),d(t,"height",i=e[10]-2*e[10]*je),d(t,"fill",o=e[11](e[19].income))},m(a,f){R(a,t,f)},p(a,f){f&1024&&n!==(n=a[10]*a[21]+a[10]*je)&&d(t,"y",n),f&66&&r!==(r=a[6](a[19].ewaste_kg_capita))&&d(t,"width",r),f&1024&&i!==(i=a[10]-2*a[10]*je)&&d(t,"height",i),f&2050&&o!==(o=a[11](a[19].income))&&d(t,"fill",o)},d(a){a&&C(t)}}}function zo(e){let t,n=e[21]+1+"",r;return{c(){t=P("#"),r=P(n)},m(i,o){R(i,t,o),R(i,r,o)},d(i){i&&(C(t),C(r))}}}function jo(e){let t,n=e[21]+1+"",r;return{c(){t=P("Rank: #"),r=P(n)},m(i,o){R(i,t,o),R(i,r,o)},d(i){i&&(C(t),C(r))}}}function wn(e){let t,n=e[19].country+"",r,i,o,a,f,u=e[0]>4&&bn(e);function l(s,p){if(s[21]==0)return jo;if((s[21]+1)%5==0)return zo}let c=l(e),h=c&&c(e);return{c(){t=E("text"),r=P(n),u&&u.c(),o=E("text"),h&&h.c(),d(t,"class","y-axis-label label svelte-1o4fil4"),d(t,"text-anchor","end"),d(t,"x","-5"),d(t,"dy",".3em"),d(t,"y",i=e[10]*e[21]+e[10]*.5),L(t,"opacity",e[0]==8?0:1),L(t,"transition","opacity .5s ease-in-out"),d(o,"class","rank-label label svelte-1o4fil4"),d(o,"text-anchor","start"),d(o,"x",a=e[19].ewaste_kg_capita>2.5?10:e[6](e[19].ewaste_kg_capita)+5),d(o,"y",f=e[10]*e[21]+e[10]*.65),L(o,"fill",e[19].income=="middle"&&e[19].ewaste_kg_capita>2.5?"rgb(215, 215, 215)":"rgb(30, 30, 30)"),L(o,"opacity",e[0]==8?0:1),L(o,"transition","opacity .5s ease-in-out")},m(s,p){R(s,t,p),A(t,r),u&&u.m(s,p),R(s,o,p),h&&h.m(o,null)},p(s,p){p&2&&n!==(n=s[19].country+"")&&he(r,n),p&1024&&i!==(i=s[10]*s[21]+s[10]*.5)&&d(t,"y",i),p&1&&L(t,"opacity",s[0]==8?0:1),s[0]>4?u?u.p(s,p):(u=bn(s),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),p&66&&a!==(a=s[19].ewaste_kg_capita>2.5?10:s[6](s[19].ewaste_kg_capita)+5)&&d(o,"x",a),p&1024&&f!==(f=s[10]*s[21]+s[10]*.65)&&d(o,"y",f),p&2&&L(o,"fill",s[19].income=="middle"&&s[19].ewaste_kg_capita>2.5?"rgb(215, 215, 215)":"rgb(30, 30, 30)"),p&1&&L(o,"opacity",s[0]==8?0:1)},d(s){s&&(C(t),C(o)),u&&u.d(s),h&&h.d()}}}function vn(e){let t,n,r,i,o=e[16]+"",a,f,u;return{c(){t=E("g"),n=E("line"),i=E("text"),a=P(o),d(n,"y1",-X),d(n,"y2",r=e[5]+X),d(n,"stroke-width","0.45px"),d(n,"stroke","black"),d(i,"class","x-axis-label label svelte-1o4fil4"),d(i,"text-anchor","middle"),d(i,"dy","1.25em"),d(i,"y",f=e[5]+X),d(t,"transform",u="translate("+e[6](e[16])+",0)")},m(l,c){R(l,t,c),A(t,n),A(t,i),A(i,a)},p(l,c){c&32&&r!==(r=l[5]+X)&&d(n,"y2",r),c&512&&o!==(o=l[16]+"")&&he(a,o),c&32&&f!==(f=l[5]+X)&&d(i,"y",f),c&576&&u!==(u="translate("+l[6](l[16])+",0)")&&d(t,"transform",u)},d(l){l&&C(t)}}}function Ho(e){let t,n,r=e[0]>=4&&yn(e);return{c(){t=z("div"),r&&r.c(),d(t,"class","chart"),D(()=>e[15].call(t))},m(i,o){R(i,t,o),r&&r.m(t,null),n=On(t,e[15].bind(t))},p(i,[o]){i[0]>=4?r?(r.p(i,o),o&1&&V(r,1)):(r=yn(i),r.c(),V(r,1),r.m(t,null)):r&&(r.d(1),r=null)},i(i){V(r)},o:H,d(i){i&&C(t),r&&r.d(),n()}}}let Nt=20,je=.1,X=5;function Do(e,t,n){let r;He(e,rr,v=>n(14,r=v));let{step:i}=t,o,a,f;const u={top:10,bottom:45,left:75,right:10};let l,c,h,s,p,m,y,g,b;function M(){a=this.offsetWidth,f=this.offsetHeight,n(2,a),n(3,f)}return e.$$set=v=>{"step"in v&&n(0,i=v.step)},e.$$.update=()=>{e.$$.dirty&24702&&r&&(n(1,o=r),n(4,l=a-u.right-u.left),n(5,c=f-u.bottom-u.top),n(13,h=o.map(v=>+v.ewaste_kg_capita)),n(6,p=$e().domain([0,Math.max.apply(null,h)]).range([0,l])),n(7,s=o.map(v=>v.country)),n(8,m=$e().domain([0,1]).range([0,c])),n(9,y=p.ticks(a>400?5:3)),n(10,g=c/Nt),n(11,b=tt(["high","middle","low","NA"],["#53A182","#A27C43","#724292","grey"])))},[i,o,a,f,l,c,p,s,m,y,g,b,u,h,r,M]}class qo extends rt{constructor(t){super(),nt(this,t,Do,Ho,Se,{step:0})}}function kn(e,t,n){const r=e.slice();return r[3]=t[n],r[5]=n,r}function Mn(e){let t,n,r=e[3]+"",i;return{c(){t=z("div"),n=z("div"),i=ae(),d(n,"class","step-content svelte-1wqfebr"),d(t,"class","step svelte-1wqfebr"),zt(t,"active",e[0]===e[5])},m(o,a){R(o,t,a),A(t,n),n.innerHTML=r,A(t,i)},p(o,a){a&1&&zt(t,"active",o[0]===o[5])},d(o){o&&C(t)}}}function Lo(e){let t,n=Y(e[1]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Mn(kn(e,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();t=Ue()},m(i,o){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(i,o);R(i,t,o)},p(i,o){if(o&3){n=Y(i[1]);let a;for(a=0;a<n.length;a+=1){const f=kn(i,n,a);r[a]?r[a].p(f,o):(r[a]=Mn(f),r[a].c(),r[a].m(t.parentNode,t))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}},d(i){i&&C(t),ve(r,i)}}}function Fo(e){let t,n,r,i,o,a,f,u,l,c,h,s,p,m,y,g,b;function M(k){e[2](k)}let v={$$slots:{default:[Lo]},$$scope:{ctx:e}};return e[0]!==void 0&&(v.value=e[0]),c=new Or({props:v}),Ye.push(()=>Ar(c,"value",M)),m=new Bo({props:{step:e[0]}}),g=new qo({props:{step:e[0]}}),{c(){t=z("div"),n=z("h1"),n.textContent="The World has an E-waste Problem",r=ae(),i=z("p"),i.innerHTML=`<span class="article-author">Miguel Haro Ruiz</span> 
        |
        <span class="article-date">May-June 2024</span>`,o=ae(),a=z("p"),a.textContent="Look around. You are probably surrounded by electronics; from the device you are using to read this to the refrigerator that keeps your food fresh, including LED lamps, screens, printers, photovoltaic panels... Electronic devices make our lives easier and in recent decades, we have become extremely dependent on them. As small and large appliances break or become obsolete, they turn into e-waste, which can pose import environmental and health threats if not disposed appropriately.",f=ae(),u=z("div"),l=z("div"),lt(c.$$.fragment),s=ae(),p=z("div"),lt(m.$$.fragment),y=ae(),lt(g.$$.fragment),d(n,"class","article-title"),d(i,"class","article-info"),d(a,"class","article-text"),d(l,"class","steps-container svelte-1wqfebr"),d(p,"class","sticky svelte-1wqfebr"),d(u,"class","section-container svelte-1wqfebr"),d(t,"class","article-div")},m(k,_){R(k,t,_),A(t,n),A(t,r),A(t,i),A(t,o),A(t,a),A(t,f),A(t,u),A(u,l),qe(c,l,null),A(u,s),A(u,p),qe(m,p,null),A(p,y),qe(g,p,null),b=!0},p(k,[_]){const x={};_&65&&(x.$$scope={dirty:_,ctx:k}),!h&&_&1&&(h=!0,x.value=k[0],Mr(()=>h=!1)),c.$set(x);const $={};_&1&&($.step=k[0]),m.$set($);const S={};_&1&&(S.step=k[0]),g.$set(S)},i(k){b||(V(c.$$.fragment,k),V(m.$$.fragment,k),V(g.$$.fragment,k),b=!0)},o(k){ee(c.$$.fragment,k),ee(m.$$.fragment,k),ee(g.$$.fragment,k),b=!1},d(k){k&&C(t),Le(c),Le(m),Le(g)}}}function Uo(e,t,n){let r;const i=["<p><a href='https://www.itu.int/en/ITU-D/Environment/Pages/Publications/The-Global-E-waste-Monitor-2024.aspx' target='_blank'>The Global E-Waste Monitor</a> reported that in 2022 alone, the world generated about 62 billion kg of e-waste.</p>","<p><span class='color-label'>China</span>, <span class='color-label'>the US</span> and <span class='color-label'>India</span> are by far the largest individual producers of discarded electronics.</p>","<p>Together with the other countries in the top 10, they generate about 60% of global e-waste.</p>","<p>However, these 10 countries account for 54% of the global population, for which their e-waste contribution is somewhat 'fair'.","<p>To get a better sense of what countries dispose the most electronics, let's look at per capita generation of e-waste.","<p><span class='high color-label'>High-income</span> countries are among the top producers of e-waste per capita.</p>","<p>To find the first <span class='mid color-label'>middle-income</span> country in the per-capita ranking, we have to go down to position 50.</p>","<p>Wheareas the bottom of the ranking is dominated by <span class='low color-label'>low-income</span> countries.</p>","<p>Richer countries bear a larger reponsibility for e-waste generation, with per capita contributions well-above the global average.</p>"];function o(a){r=a,n(0,r)}return[r,i,o]}class Wo extends rt{constructor(t){super(),nt(this,t,Uo,Fo,Se,{})}}new Wo({target:document.getElementById("app")});
